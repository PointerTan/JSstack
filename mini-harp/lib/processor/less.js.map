{"version":3,"sources":["../../src/processor/less.js"],"names":[],"mappings":";;;;;QAIgB,Q,GAAA,Q;AAJhB,IAAI,UAAU,QAAQ,cAAR,CAAd;AACA,IAAI,aAAa,QAAQ,qBAAR,CAAjB;AACA,IAAI,KAAK,QAAQ,0BAAR,CAAT;;AAEO,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AAC3B,YAAQ,GAAR,CAAY,IAAZ;AACA,YAAQ,GAAR,CAAY,SAAZ;AACA,QAAI,aAAa,QAAQ,IAAR,CAAjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAI,aAAa,SAAb,UAAa,CAAS,GAAT,EAAc,GAAd,EAAkB;AAC/B,gBAAQ,GAAR,CAAY,cAAc,IAAI,GAA9B;AACA,YAAI,IAAI,GAAJ,KAAY,UAAhB,EAA4B;AACxB,gBAAI,KAAK,QAAQ,IAAR,CAAT;AACA,eAAG,QAAH,CAAY,OAAO,WAAnB,EAA+B,OAA/B,EAAwC,UAAS,GAAT,EAAa,IAAb,EAAkB;AACtD,oBAAG,GAAH,EAAO;AACH,4BAAQ,GAAR,CAAY,GAAZ;AACH,iBAFD,MAEK;AACD;AACA,wBAAI,OAAO,QAAQ,MAAR,CAAX;AACA,yBAAK,MAAL,CAAY,IAAZ,EAAkB,UAAU,CAAV,EAAa,GAAb,EAAkB;AAChC,4BAAI,GAAJ,CAAQ,GAAR;AACH,qBAFD;AAGH;AACJ,aAVD;AAWA;AACA;AACA;AACA;AACH,SAjBD,MAkBK;AACD,gBAAI,UAAJ,GAAiB,GAAjB;AACA,gBAAI,GAAJ,CAAQ,WAAR;AACH;AACJ,KAxBD;AAyBA,WAAO,EAAE,sBAAF,EAAc,sBAAd,EAAP;AACA;AACH","file":"less.js","sourcesContent":["var staticS = require('serve-static');\nvar jadeStatic = require('connect-jade-static');\nvar st = require('connect-static-transform');\n\nexport function makeLess(root) {\n    console.log(root);\n    console.log(__dirname);\n    var makeStatic = staticS(root);\n    // var temp = st({\n    //     root: root\n    // });\n    // var temp = st.less({\n    //     root: root, // where to open the less files from\n    //     path: '/assets', // optional, sets where to serve from\n    //     cache: true, // optional, caches in memory as well as on the client\n    //     maxage: 3600, // optional, sets the maximum number of seconds a client should keep the compiled file (defaults to one year)\n    //     options: { // optional, options object to send directly to the LESS compiler\n    //         compress: true\n    //     }\n    // });\n\n    var makeRender = function(req, res){\n        console.log(\"req.url: \" + req.url);\n        if (req.url === \"/foo.css\") {\n            var fs = require(\"fs\");\n            fs.readFile(root + '/foo.less','utf-8', function(err,data){ \n                if(err){ \n                    console.log(err); \n                }else{ \n                    // console.log(data); \n                    var less = require('less');\n                    less.render(data, function (e, css) {\n                        res.end(css);\n                    });  \n                } \n            })\n            // res.end(\"200\");\n            // less.render('.class { width: (1 + 1) }', function (e, css) {\n            //     res.end(css);\n            // });         \n        }\n        else {\n            res.statusCode = 404;\n            res.end(\"not found\");\n        }\n    };\n    return { makeStatic, makeRender };\n    // return staticS(root);\n}\n\n"]}